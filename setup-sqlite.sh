#!/bin/bash\n\n# ðŸ—„ï¸ WEM Dashboard - SQLite Setup & Testing Script\n# Perfect for development, testing, and GitHub publishing!\n\nset -e  # Exit on any error\n\necho \"ðŸ—„ï¸ WEM Dashboard SQLite Setup\"\necho \"================================\"\necho \"ðŸ“¦ Setting up SQLite for development and testing...\"\necho \"\"\n\n# Colors for output\nGREEN='\\033[0;32m'\nBLUE='\\033[0;34m'\nYELLOW='\\033[1;33m'\nRED='\\033[0;31m'\nNC='\\033[0m' # No Color\n\n# Check if .NET is installed\nif ! command -v dotnet &> /dev/null; then\n    echo -e \"${RED}âŒ .NET 8.0 not found. Please install:${NC}\"\n    echo \"   ðŸ“¥ Download: https://dotnet.microsoft.com/download/dotnet/8.0\"\n    exit 1\nfi\n\necho -e \"${GREEN}âœ… .NET $(dotnet --version) found${NC}\"\necho \"\"\n\necho -e \"${BLUE}ðŸ”§ Configuring SQLite database...${NC}\"\n\n# Ensure we're in the right directory\nif [ ! -d \"backend\" ]; then\n    echo -e \"${RED}âŒ Please run this script from the project root directory${NC}\"\n    exit 1\nfi\n\ncd backend/src/WemDashboard.API\n\n# Create appsettings for SQLite\ncat > appsettings.Development.json << EOF\n{\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Information\",\n      \"Microsoft.AspNetCore\": \"Warning\",\n      \"Microsoft.EntityFrameworkCore.Database.Command\": \"Information\"\n    }\n  },\n  \"ConnectionStrings\": {\n    \"DefaultConnection\": \"Data Source=wemdashboard-dev.db\"\n  },\n  \"DatabaseProvider\": \"SQLite\",\n  \"Jwt\": {\n    \"Key\": \"WemDashboard-SuperSecret-JWT-Key-For-Development-32Characters-Minimum\",\n    \"Issuer\": \"WemDashboard\",\n    \"Audience\": \"WemDashboard\",\n    \"ExpirationInMinutes\": 60\n  }\n}\nEOF\n\necho -e \"${GREEN}âœ… SQLite configuration created${NC}\"\n\n# Install/restore packages\necho -e \"${BLUE}ðŸ“¦ Installing .NET packages...${NC}\"\ndotnet restore\n\necho -e \"${BLUE}ðŸ”¨ Building the application...${NC}\"\ndotnet build --configuration Debug\n\necho \"\"\necho -e \"${GREEN}ðŸ—„ï¸ SQLite Database Setup Complete!${NC}\"\necho \"===========================================\"\necho \"\"\necho -e \"${YELLOW}ðŸš€ Next Steps:${NC}\"\necho \"\"\necho \"1. ðŸ–¥ï¸  Start the Backend:\"\necho \"   dotnet run\"\necho \"\"\necho \"2. ðŸŒ Test the API:\"\necho \"   http://localhost:5000/swagger\"\necho \"\"\necho \"3. ðŸ  Start Frontend (in new terminal, from project root):\"\necho \"   npm run dev\"\necho \"\"\necho \"4. ðŸ” Login Credentials:\"\necho \"   Admin:    admin@wemdashboard.com    / Admin123!\"\necho \"   Manager:  manager@wemdashboard.com  / Manager123!\"\necho \"   Operator: operator@wemdashboard.com / Operator123!\"\necho \"   Viewer:   viewer@wemdashboard.com   / Viewer123!\"\necho \"   Demo:     demo@wemdashboard.com     / Demo123!\"\necho \"\"\necho -e \"${GREEN}ðŸ“Š What's Pre-loaded:${NC}\"\necho \"   â€¢ 6 Energy Sites (California, Texas, Berlin, Tokyo, Australia, Scotland)\"\necho \"   â€¢ 10 Assets (Wind Turbines, Solar Panels, Inverters, Batteries)\"\necho \"   â€¢ 1,008 Hours of Power Data (7 days Ã— 24 hours Ã— 6 sites)\"\necho \"   â€¢ 7 Realistic Alerts (Success, Warning, Error, Info)\"\necho \"   â€¢ 5 User Accounts with different roles\"\necho \"\"\necho -e \"${GREEN}ðŸ—„ï¸ SQLite Database:${NC}\"\necho \"   â€¢ File: wemdashboard-dev.db\"\necho \"   â€¢ Location: backend/src/WemDashboard.API/\"\necho \"   â€¢ Size: ~1MB with all sample data\"\necho \"   â€¢ GitHub Ready: Can be committed to repository\"\necho \"\"\necho -e \"${YELLOW}ðŸ’¡ Pro Tips:${NC}\"\necho \"   â€¢ Database persists between runs\"\necho \"   â€¢ Delete .db file to reset all data\"\necho \"   â€¢ Use SQLite Browser to view data\"\necho \"   â€¢ Perfect for development and testing\"\necho \"\"\necho -e \"${GREEN}âœ¨ Happy Testing!${NC}\"\n\n# Go back to project root\ncd ../../../\n"