#!/bin/bash\n\n# 🚀 WEM Dashboard - One-Click Setup Script\n# This script sets up your complete WEM Dashboard for testing\n\nset -e  # Exit on any error\n\necho \"🌊 WEM Dashboard Setup Starting...\"\necho \"=====================================\"\necho \"\"\n\n# Colors for output\nGREEN='\\033[0;32m'\nBLUE='\\033[0;34m'\nYELLOW='\\033[1;33m'\nRED='\\033[0;31m'\nNC='\\033[0m' # No Color\n\n# Check if .NET is installed\ncheck_dotnet() {\n    if command -v dotnet &> /dev/null; then\n        DOTNET_VERSION=$(dotnet --version)\n        echo -e \"${GREEN}✅ .NET ${DOTNET_VERSION} found${NC}\"\n        return 0\n    else\n        echo -e \"${YELLOW}⚠️  .NET not found. Please install .NET 8.0:${NC}\"\n        echo \"   📥 Download: https://dotnet.microsoft.com/download/dotnet/8.0\"\n        return 1\n    fi\n}\n\n# Check if Node.js is installed\ncheck_node() {\n    if command -v node &> /dev/null; then\n        NODE_VERSION=$(node --version)\n        echo -e \"${GREEN}✅ Node.js ${NODE_VERSION} found${NC}\"\n        return 0\n    else\n        echo -e \"${YELLOW}⚠️  Node.js not found. Please install Node.js 18+:${NC}\"\n        echo \"   📥 Download: https://nodejs.org/\"\n        return 1\n    fi\n}\n\necho \"🔍 Checking prerequisites...\"\necho \"\"\n\n# Check prerequisites\nPREREQS_OK=true\n\nif ! check_dotnet; then\n    PREREQS_OK=false\nfi\n\nif ! check_node; then\n    PREREQS_OK=false\nfi\n\nif [ \"$PREREQS_OK\" = false ]; then\n    echo \"\"\n    echo -e \"${RED}❌ Prerequisites missing. Please install the required software and run this script again.${NC}\"\n    exit 1\nfi\n\necho \"\"\necho \"🚀 Starting WEM Dashboard setup...\"\necho \"\"\n\n# Setup frontend\necho -e \"${BLUE}📦 Installing frontend dependencies...${NC}\"\nif command -v bun &> /dev/null; then\n    echo \"Using Bun for faster installs...\"\n    bun install\nelse\n    npm install\nfi\n\necho \"\"\necho -e \"${BLUE}🔧 Setting up environment...${NC}\"\n\n# Create .env.local for frontend\ncat > .env.local << EOF\n# WEM Dashboard - Local Development Environment\nVITE_API_BASE_URL=http://localhost:5000/api\nVITE_ENABLE_MOCK_DATA=false\nVITE_APP_TITLE=WEM Dashboard - Local\nEOF\n\necho -e \"${GREEN}✅ Frontend environment configured${NC}\"\n\n# Setup backend\necho \"\"\necho -e \"${BLUE}🗄️  Setting up backend database...${NC}\"\n\ncd backend/src/WemDashboard.API\n\n# Restore backend dependencies\necho \"Installing .NET packages...\"\ndotnet restore\n\necho \"\"\necho -e \"${GREEN}✅ Backend dependencies installed${NC}\"\necho \"\"\n\n# Build backend\necho -e \"${BLUE}🔨 Building backend...${NC}\"\ndotnet build --configuration Release\n\necho \"\"\necho -e \"${GREEN}✅ Backend built successfully${NC}\"\necho \"\"\n\n# Go back to root directory\ncd ../../../\n\necho \"🎉 Setup completed successfully!\"\necho \"=============================\"\necho \"\"\necho -e \"${GREEN}🚀 Your WEM Dashboard is ready for testing!${NC}\"\necho \"\"\necho \"📋 Next steps:\"\necho \"\"\necho \"1. 🖥️  Start the Backend:\"\necho \"   cd backend/src/WemDashboard.API\"\necho \"   dotnet run\"\necho \"\"\necho \"2. 🌐 Access Swagger API Docs:\"\necho \"   http://localhost:5000/swagger\"\necho \"\"\necho \"3. 🔐 Test Login Credentials:\"\necho \"   Email: admin@wemdashboard.com\"\necho \"   Password: Admin123!\"\necho \"\"\necho \"4. 🎨 Start Frontend (in new terminal):\"\necho \"   npm run dev\"\necho \"   # or bun dev\"\necho \"\"\necho \"5. 🌟 Access Dashboard:\"\necho \"   http://localhost:5173\"\necho \"\"\necho -e \"${YELLOW}📖 For detailed testing instructions, see: TESTING_GUIDE.md${NC}\"\necho \"\"\necho -e \"${GREEN}✨ Happy testing!${NC}\"\n"