# 🚀 **WEM Dashboard - Complete Testing Guide**\n\n## 🎉 **Your Project is Ready for Testing!**\n\nBoth your **React frontend** and **C# backend** are now deployed and ready for testing!\n\n---\n\n## 🌐 **Live Frontend (GitHub Pages)**\n\n### **🔗 Access Your Dashboard**\n**URL**: https://eladser.github.io/wem-test/\n\n### **📱 What You'll See**\n- **Beautiful WEM Dashboard** with your existing UI\n- **Mock data** (initially) showing sites, assets, power data\n- **Interactive charts** and metrics\n- **Responsive design** working on all devices\n\n---\n\n## 🖥️ **Local Backend Testing (SQLite)**\n\n### **⚡ Quick Start (5 minutes)**\n\n#### 1. **Clone and Start Backend**\n```bash\n# Clone your repository\ngit clone https://github.com/eladser/wem-test.git\ncd wem-test\n\n# Navigate to backend\ncd backend/src/WemDashboard.API\n\n# Install .NET 8 (if not installed)\n# Download from: https://dotnet.microsoft.com/download/dotnet/8.0\n\n# Run the backend\ndotnet run\n```\n\n#### 2. **Access Swagger API Documentation**\n```bash\n# Open in browser\nhttp://localhost:5000/swagger\n```\n\n#### 3. **Test Authentication**\n**Default Admin Login:**\n- **Email**: `admin@wemdashboard.com`\n- **Password**: `Admin123!`\n\n#### 4. **Test API Endpoints**\n```bash\n# Health Check\nGET http://localhost:5000/health\n\n# Get All Sites\nGET http://localhost:5000/api/sites\n\n# Login (copy the token for authenticated requests)\nPOST http://localhost:5000/api/auth/login\n{\n  \"email\": \"admin@wemdashboard.com\",\n  \"password\": \"Admin123!\"\n}\n```\n\n---\n\n## 🔬 **What's Pre-loaded for Testing**\n\n### **🏢 Sample Sites (4)**\n1. **Main Campus** (California, USA) - Online, 25.5kW\n2. **Warehouse Complex** (Texas, USA) - Online, 15.8kW  \n3. **Office Complex** (Berlin, Germany) - Maintenance, 12.3kW\n4. **Manufacturing Plant** (Tokyo, Japan) - Online, 32.1kW\n\n### **⚡ Sample Assets (6)**\n- **4 Solar Inverters** across different sites\n- **2 Battery Packs** for energy storage\n- Different statuses: Online, Charging, Maintenance\n\n### **📊 Power Data (96 hours)**\n- **24 hours × 4 sites** = 96 data points\n- **Realistic patterns**: Solar peaks during day, battery storage\n- **Time-series data** for charts and analytics\n\n### **🚨 Sample Alerts (4)**\n- **Warning**: Battery level below 20%\n- **Info**: Maintenance completed  \n- **Error**: Solar inverter offline\n- **Success**: Peak efficiency achieved\n\n---\n\n## 🧪 **Testing Scenarios**\n\n### **🔐 Authentication Flow**\n1. **Login** with admin credentials\n2. **Get JWT token** from response\n3. **Use token** in Authorization header: `Bearer {token}`\n4. **Test protected endpoints** (all require authentication)\n\n### **🏢 Sites Management**\n```bash\n# Get all sites\nGET /api/sites\n\n# Get specific site with assets\nGET /api/sites/site-a\nHeaders: X-Include-Assets: true\n\n# Update site status\nPATCH /api/sites/site-a/status\n{\n  \"status\": \"maintenance\"\n}\n\n# Get site metrics\nGET /api/sites/site-a/metrics\n```\n\n### **⚡ Assets Testing**\n```bash\n# Get assets for a site\nGET /api/sites/site-a/assets\n\n# Filter by asset type\nGET /api/sites/site-a/assets?type=inverter\n\n# Get specific asset\nGET /api/assets/INV-001\n```\n\n### **📊 Power Data**\n```bash\n# Get power data for site\nGET /api/sites/site-a/power-data\n\n# Get data for specific time range\nGET /api/sites/site-a/power-data?range=day\n\n# Get latest power data\nGET /api/sites/site-a/power-data/latest\n```\n\n### **🚨 Alerts Management**\n```bash\n# Get recent alerts\nGET /api/alerts/recent\n\n# Get unread alerts\nGET /api/alerts/unread\n\n# Mark alert as read\nPATCH /api/alerts/{alertId}/read\n```\n\n---\n\n## 🔧 **Local Frontend with Backend Integration**\n\n### **🔄 Connect Frontend to Local Backend**\n\n#### 1. **Update Environment**\n```bash\n# Create .env.local file in root directory\necho \"VITE_API_BASE_URL=http://localhost:5000/api\" > .env.local\necho \"VITE_ENABLE_MOCK_DATA=false\" >> .env.local\n```\n\n#### 2. **Start Frontend Locally**\n```bash\n# In project root\nnpm install\nnpm run dev\n```\n\n#### 3. **Access Local Dashboard**\n```bash\n# Open in browser\nhttp://localhost:5173\n```\n\n#### 4. **Test Integration**\n- **Login page** should appear\n- **Use admin credentials** to login\n- **Dashboard loads** with real data from SQLite backend\n- **All features work** with live database\n\n---\n\n## 📦 **Database File (SQLite)**\n\n### **📍 Location**\n```bash\n# Database file created at:\nbackend/src/WemDashboard.API/wemdashboard.db\n```\n\n### **🔍 View Database**\n```bash\n# Install SQLite browser (optional)\n# Download: https://sqlitebrowser.org/\n\n# Or use command line\nsqlite3 wemdashboard.db\n.tables\nSELECT * FROM Sites;\n```\n\n### **🔄 Reset Database**\n```bash\n# Delete database file to reset\nrm wemdashboard.db\n\n# Restart backend - database recreates with sample data\ndotnet run\n```\n\n---\n\n## 🌐 **Deploy Backend to Cloud (Optional)**\n\n### **🚂 Railway (Recommended)**\n1. **Connect Repository**: https://railway.app\n2. **Select your repository**: `eladser/wem-test`\n3. **Set Root Directory**: `backend/src/WemDashboard.API`\n4. **Environment Variables**:\n   ```bash\n   DatabaseProvider=SQLite\n   ConnectionStrings__DefaultConnection=Data Source=wemdashboard.db\n   ```\n5. **Deploy**: Automatic on push to main branch\n\n### **☁️ Render**\n1. **Connect Repository**: https://render.com\n2. **Create Web Service**\n3. **Build Command**: `dotnet build --configuration Release`\n4. **Start Command**: `dotnet WemDashboard.API.dll`\n5. **Environment Variables**: Same as Railway\n\n---\n\n## 🧪 **Advanced Testing**\n\n### **📈 Performance Testing**\n```bash\n# Load test with curl\nfor i in {1..100}; do\n  curl -X GET \"http://localhost:5000/api/sites\" \\\n       -H \"Authorization: Bearer {your-token}\" &\ndone\n```\n\n### **🔒 Security Testing**\n```bash\n# Test without authentication (should fail)\ncurl -X GET \"http://localhost:5000/api/sites\"\n\n# Test with invalid token (should fail)\ncurl -X GET \"http://localhost:5000/api/sites\" \\\n     -H \"Authorization: Bearer invalid-token\"\n\n# Test rate limiting (1000 requests/hour)\n```\n\n### **📊 Database Testing**\n```bash\n# Check database health\nGET http://localhost:5000/health\n\n# Verify data integrity\nGET http://localhost:5000/api/sites\n# Should return 4 sites\n\nGET http://localhost:5000/api/assets\n# Should return 6 assets\n```\n\n---\n\n## 🐛 **Troubleshooting**\n\n### **❌ Backend Won't Start**\n```bash\n# Check .NET version\ndotnet --version\n# Should be 8.0.x\n\n# Check port availability\nnetstat -tulpn | grep :5000\n\n# Check logs\n# Logs are in: backend/src/WemDashboard.API/logs/\n```\n\n### **❌ Database Issues**\n```bash\n# Check database file permissions\nls -la wemdashboard.db\n\n# Reset database\nrm wemdashboard.db\ndotnet run\n```\n\n### **❌ CORS Issues**\n```bash\n# Backend runs on: http://localhost:5000\n# Frontend runs on: http://localhost:5173\n# CORS is configured to allow this\n```\n\n### **❌ Authentication Issues**\n```bash\n# Check JWT configuration in appsettings.json\n# Ensure JWT Key is at least 32 characters\n```\n\n---\n\n## 🎯 **What to Test**\n\n### **✅ Must Test**\n- [ ] **Backend starts** successfully\n- [ ] **Swagger UI** accessible at `/swagger`\n- [ ] **Authentication** works with admin credentials\n- [ ] **Sites API** returns 4 sample sites\n- [ ] **Assets API** returns 6 sample assets\n- [ ] **Power Data** returns time-series data\n- [ ] **Health checks** respond correctly\n\n### **✅ Should Test**\n- [ ] **Frontend-Backend integration** locally\n- [ ] **Database persistence** (create/update/delete)\n- [ ] **Error handling** (invalid requests)\n- [ ] **Rate limiting** (many requests)\n- [ ] **CORS** from frontend\n\n### **✅ Could Test**\n- [ ] **Performance** under load\n- [ ] **Security** with invalid tokens\n- [ ] **Database export/import**\n- [ ] **Cloud deployment**\n\n---\n\n## 🎊 **Success Indicators**\n\n### **🟢 Backend is Working When:**\n- ✅ Swagger UI loads at `http://localhost:5000/swagger`\n- ✅ Health check returns `HTTP 200`\n- ✅ Login returns JWT token\n- ✅ Sites API returns 4 sites\n- ✅ Database file `wemdashboard.db` exists\n\n### **🟢 Integration is Working When:**\n- ✅ Frontend connects to backend without CORS errors\n- ✅ Login page accepts admin credentials\n- ✅ Dashboard shows real data (not mock)\n- ✅ Charts render with database data\n- ✅ All CRUD operations work\n\n---\n\n## 📞 **Need Help?**\n\n### **📋 Checklist**\n1. **Check Prerequisites**: .NET 8.0 installed\n2. **Check Ports**: 5000 (backend), 5173 (frontend) available\n3. **Check Logs**: `backend/src/WemDashboard.API/logs/`\n4. **Check Database**: `wemdashboard.db` file exists\n5. **Check CORS**: Frontend and backend URLs match configuration\n\n### **🔍 Debug Commands**\n```bash\n# Check backend status\ncurl http://localhost:5000/health\n\n# Check logs\ntail -f backend/src/WemDashboard.API/logs/wemdashboard-*.txt\n\n# Check database\nsqlite3 wemdashboard.db \"SELECT COUNT(*) FROM Sites;\"\n```\n\n---\n\n## 🚀 **Ready to Go!**\n\n**Your WEM Dashboard is now a complete, full-stack application!**\n\n- ✅ **Frontend**: Deployed to GitHub Pages\n- ✅ **Backend**: Running locally with SQLite\n- ✅ **Database**: Pre-loaded with realistic test data\n- ✅ **APIs**: All endpoints documented and tested\n- ✅ **Authentication**: Secure JWT implementation\n- ✅ **Documentation**: Complete testing guide\n\n**Start testing now and see your dashboard come alive with real data!** 🎉\n